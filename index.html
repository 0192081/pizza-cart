<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfect Pizza</title>
    <link rel="stylesheet" href="style.css">
    <script src="//unpkg.com/alpinejs" defer></script>

    <head>

    <body>
        <div class="container" x-data="{
            showCart: false,
            smallPizzaTotal : 0.00,
            smallPizzaQty : 0.00,
            mediumPizzaTotal :0.00,
            mediumPizzaQty : 0.00,
            largePizzaTotal :0.00,
            largePizzaQty :0,
            payNow :false,
            paymentAmount :0,
            paymentMessage :'',
            
            BuySmallPizza(){
                this.smallPizzaTotal += 27.99;
                this.smallPizzaQty +=1;
            },
            BuyMediumPizza(){
                this.mediumPizzaTotal += 84.99;
                this.mediumPizzaQty +=1;
            },
            BuyLargePizza(){
                this.largePizzaTotal += 108.99;
                this.largePizzaQty +=1;
            },
            

            ClearSmallPizza() {
                if (this.smallPizzaQty > 0){
                    this.smallPizzaTotal -= 27.99;
                    this.smallPizzaQty -=1;
                }
            },
            ClearMediumPizza() {
                if (this.mediumPizzaQty > 0){
                    this.mediumPizzaTotal -= 84.99;
                    this.mediumPizzaQty -=1;
                }
            },
            ClearLargePizza() {
                if (this.smallPizzaQty > 0){
                    this.largePizzaTotal -= 108.99;
                    this.largePizzaQty -=1;
                }
            },
            cartTotal() {
                // let localTotal = 1000;
                return (this.smallPizzaTotal + this.mediumPizzaTotal + this.largePizzaTotal).toFixed(2);
            },
            totalQty() {
                return this.smallPizzaQty + this.mediumPizzaQty + this.largePizzaQty;
            },
            makePayment(){
                if (!this.paymentAmount){
                this.paymentMessage = 'No amount entered!';
                }
                    if (!this.paymentAmount >= this.cartTotal() ){
                    this.paymentMessage = 'Payment successful!';

                
            } else {
                this.paymentMessage = 'Payment failed!';
            }
        }
       
            }">

        

            <div class="header">
                <div class="f3">
                    <h1>Perfect Pizza</h1>
                    <img src="https://user-images.githubusercontent.com/34037/167313920-09aeb40f-9952-439b-8e54-a04c02caa427.png"
                        alt="" width="30">
                    <img src="https://user-images.githubusercontent.com/34037/167313951-4a866324-a3bf-4094-8bf8-8a90795957ab.png"
                        alt="" width="30">
                    <img src="https://user-images.githubusercontent.com/34037/167314003-8ded573d-4bb2-447f-b27c-5545631b1904.png"
                        alt="" width="30">
                </div>

                <div class="f1">
                    <!--<a href"" class="cart-link" x-on:click="showCart=true" >-->
                    <button x-on:click="ShowCart=true"><img src="./images/shopping-cart.png" width="30" alt="">Show
                        cart</button>
                    <strong x-show="totalQty() > 0"><span x-text="totalQty()"></span> pizzas in the cart.</strong>
                </div>
                <!--<a>-->
                <!--<span>0.00</span>-->

            </div>

            <div class="cart-box">
                <div class="cart" v-show="showCart">

                </div>
                <button x-on:click="showCart=false">
                    <img src="./images/shopping-cart.png" width="30" alt="">Close cart</button>

            </div>

 

        <div class="test">
            <h2>Place Your Order Here:</h2>
        </div>

        <table>
            <tr>
                <td>Small pizza</td>
                <td>
                    <span x-text="smallPizzaQty"></span>
                    <button x-on:click="BuySmallPizza">+</button>
                    <button x-on:click="ClearSmallPizza" x-show="smallPizzaQty>0">-</button>
                </td>
                <td>
                    R<span x-text="smallPizzaTotal"></span>
                </td>
            </tr>
            <tr>
                <td>Medium pizza</td>
                <td>
                    <span x-text="mediumPizzaQty"></span>
                    <button x-on:click="BuyMediumPizza()">+</button>
                    <button x-on:click="ClearMediumPizza" x-show="mediumPizzaQty>0">-</button>

                </td>
                <td>
                    R<span x-text="mediumPizzaTotal"></span>
                </td>
            </tr>
            <tr>
                <td>Large pizza</td>
                <td>
                    <span x-text="largePizzaQty"></span>
                    <button @click="BuyLargePizza()" x-show="largePizzaQty>0">+</button>
                    <button @click="ClearLargePizza" x-show="largePizzaQty>0">-</button>

                </td>
                <td>
                    R<span x-text="largePizzaTotal.toFixed(2)"></span>
                </td>
            </tr>
            <tr x-show="cartTotal() >0">
                <td colspan="2">Total</td>
                <td>
                    R<span x-text="cartTotal()"></span>
                </td>
            </tr>
            <tr>
                <td colspan="2">

                    <div x-show="payNow">
                        <div class="message" x text="paymentMessage">Message....</div>
                    </div>


                            <label for="">Payment amount</label>
                            <input class="input" type="number" placeholder="Payment amount" x-model="paymentAmount">
                            <button @click="makePayment()" class="btn"><img src="./images/shopping-cart.png" width="20"
                                    alt="">Pay
                                Now</button>
                </td>
                <td>
                    <button x-show="!payNow" x-on:click="payNow=true" class="btn">
                        <img src="./images/shopping-cart.png" width="20" alt="">Buy</button>
                </td>
            </tr>

        </table>

        <div class="Pizzas">


            <div class="pizza Small_Pizza">
                <img src="https://user-images.githubusercontent.com/34037/167313920-09aeb40f-9952-439b-8e54-a04c02caa427.png"
                    alt="" width="160">
                <h2>Small Pizza</h2>
                <h2>R27.99</h2>
                <button class="buy btn" x-on:click="smallPizzaTotal += 27.99; smallPizzaQty>0">
                    <img src="https://user-images.githubusercontent.com/34037/167313920-09aeb40f-9952-439b-8e54-a04c02caa427.png"
                        alt="" width="30">
                    Add to Cart+</button>
                <div>Small Pizza with 3 toppings</div>
                <div>1 meat topping</div>
                <div>3 or less other topping</div>
            </div>

            <div class="pizza Medium_Pizza">
                <img src="https://user-images.githubusercontent.com/34037/167313951-4a866324-a3bf-4094-8bf8-8a90795957ab.png"
                    alt="" width="160">
                <h2>Medium Pizza</h2>
                <h2>R84.99</h2>
                <button class="buy btn" x-on:click="mediumPizzaTotal += 84.99; mediumPizzaQty>0">
                    <img src="https://user-images.githubusercontent.com/34037/167313951-4a866324-a3bf-4094-8bf8-8a90795957ab.png"
                        alt="" width="30">
                    Add to Cart+</button>
                <div>Medium Pizza with 5 toppings</div>
                <div>1 meat topping</div>
                <div>3 or less other topping</div>
            </div>

            <div class="pizza Large_Pizza">
                <img src="https://user-images.githubusercontent.com/34037/167314003-8ded573d-4bb2-447f-b27c-5545631b1904.png"
                    alt="" width="160">
                <h2>Large Pizza</h2>
                <h2>R108.99</h2>
                <button class="buy btn" x-on:click="largePizzaTotal += 108.99; largePizzaQty>0">
                    <img src="https://user-images.githubusercontent.com/34037/167314003-8ded573d-4bb2-447f-b27c-5545631b1904.png"
                        alt="" width="30">
                    Add to Cart+</button>

                <div>Small Pizza with 7 toppings</div>
                <div>1 meat topping</div>
                <div>3 or less other topping</div>
            </div>
        </div>
        </div>
        <div class="Contact_Us">
            <h2>Contact Details</h2>
            <div>Contact Us At: 011 425 7800</div>
            <div>Info@perfectpizza.co.za</div>
            <div>Facebook: Perfect Pizza</div>
        </div>

    </body>

</html>